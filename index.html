<!DOCTYPE html>
<html lang="en">
<head>
	    <!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Dapp</title>
		<script src="libs/nebPay.js"></script>
		<script src="libs/jquery-3.1.1.min.js"></script>
		<script src="libs/site.js"></script>
		<link rel="stylesheet" href="site.css">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
</head>

<body>
	<div class="container">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="#">QuestioNAS - Daaps</a>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
				</ul>
			</div>
			<button class="btn btn-sm btn-primary" type="button" data-toggle="modal" data-target="#exampleModal" >
				New Question
			</button> &nbsp;
			<button class="btn btn-sm btn-secondary" type="button">My Questions</button>
		</nav>	
		
		<br>
		<br>
		<br>
				
		<div class="row questions">
		</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
		  <div class="modal-content">
			<div class="modal-header">
			  <h5 class="modal-title" id="exampleModalLabel">Create Question</h5>
			  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			  </button>
			</div>
			<div class="modal-body">
			<!-- <form> -->
<!-- 					<div class="form-group">
						<label for="exampleInputEmail1">
								Write your question</label>
						<input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Do you like QuestioNAS ?">
						<small id="emailHelp" class="form-text text-muted">Max 240 characters</small>
					</div> -->
					
					<div class="row">
							<div class="control-group" id="fields">
								
								<div class="controls"> 
									<form role="form" id="question-form" autocomplete="off">
											<label>Title</label>
											<div class="input-group">
													<input class="form-control" name="title" type="text" placeholder="Do you like QuestioNAS" />
											</div>
											<small>Max 240 characteres</small>
											<br>
											<br>
										<label id="label-dynamic-field">Your answers</label>
										<div class="entry input-group col-xs-3">
											<input class="form-control" name="fields" type="text" placeholder="Yes..." />
											&nbsp;
											<span class="input-group-btn">
												<button class="btn btn-success btn-add" type="button">
													<span class="fas fa-plus"></span>
												</button>
											</span>
										</div>
									</form>
								
								<small class="span-fields">Press <span class="fas fa-plus"></span> to add another form field. You must add at least two answers</small>
								</div>
							</div>
						</div>
						
	<!-- 		</form> -->
			</div>
			<div class="modal-footer">
			  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			  <button id="btn-submit-question" type="button" class="btn btn-primary">Submit Question</button>
			</div>
		  </div>
		</div>
	  </div>

	</div> <!-- End container -->

<script>

		var contract_address = "n1zsH1HnWbQPw7rLRxc9CRw5gjT6qfzyt7P"
		var NebPay = require("nebpay");
		var nebPay = new NebPay();
	
		$( document ).ready(function() {

			if(typeof(webExtensionWallet) === "undefined"){
			alert ("Extension wallet is not installed, please install it first.")
			}

			GetQuestion();

			$('#btn-submit-question').on('click',function(){
				$('#question-form').submit();
			})

			$('#question-form').on('submit',SubmitQuestion)
		});

		$(function()
		{
			$(document).on('click', '.btn-add', function(e)
			{
				e.preventDefault();

				var controlForm = $('.controls form:first'),
					currentEntry = $(this).parents('.entry:first'),
					newEntry = $(currentEntry.clone()).appendTo(controlForm);

				newEntry.find('input').val('');
				controlForm.find('.entry:not(:last) .btn-add')
					.removeClass('btn-add').addClass('btn-remove')
					.removeClass('btn-success').addClass('btn-danger')
					.html('<span class="fas fa-minus"></span>');
			}).on('click', '.btn-remove', function(e)
			{
				$(this).parents('.entry:first').remove();

				e.preventDefault();
			});
		});


</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
</body>
</html>